<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0">
    <title>Gerry's Pizza</title>
    <link rel="stylesheet" href="css/pizzeria.css">
</head>
<body>
    <header class="header">
        <div class="button">
            <a href="index.html">Regresar</a>
        </div>
        <div class="logo">
            Gerry's Pizza
        </div>
        <div class="descripcion">
            Registra tus datos para no tener que escribirlos manualmente en cada pedido. (Esta información solo se almacena en tu dispositivo)
        </div>
    </header>
    <section class="hoja-registro">
        <form onsubmit="registrar();">
            <fieldset>
                <legend>Nombre:</legend>
                <input type="text" name="nombre" id="nombre" placeholder="Juan Pérez">              
            </fieldset>
            <fieldset>
                <legend>Dirección:</legend>
                <label for="calle">Calle:</label>
                <input type="text" name="calle" id="calle" placeholder="26 x 75 y 75B">
                <label for="numero">Número:</label>
                <input type="text" name="numero" id="numero" placeholder="454">
                <label for="colonia">Colonia:</label>
                <input type="text" name="colonia" id="colonia" placeholder="Tixcacal Opichen">
                <label for="referencia">Referencias:</label>
                <input type="text" name="referencias" id="referencias" placeholder="Casa verde, rejas blancas, al lado del oxxo">
            </fieldset>
            <input type="submit" name="guardar" id="guardar" value="Guardar">
        </form>
    </section>
    <script>
        const nombre = document.querySelector("#nombre");
        const calle = document.querySelector("#calle");
        const numero = document.querySelector("#numero");
        const colonia = document.querySelector("#colonia");
        const referencias = document.querySelector("#referencias");
        cargarDatos(nombre);
        cargarDatos(calle);
        cargarDatos(numero);
        cargarDatos(colonia);
        cargarDatos(referencias);
        function cargarDatos (dato) {
            localStorage.getItem(dato.id) ? dato.value = localStorage.getItem(dato.id) : '';        }
        function registrar(){
            editarRegistro(nombre);
            editarRegistro(calle);
            editarRegistro(numero);
            editarRegistro(colonia);
            editarRegistro(referencias);
            var direccion_completa = `${calle.value}, ${numero.value}, ${colonia.value}, _(${referencias.value})_`;
            localStorage.setItem("direccion_completa", direccion_completa)
        }
        function editarRegistro (dato) {
            localStorage.setItem(dato.id, dato.value);
        }
    </script>
</body>
</html>